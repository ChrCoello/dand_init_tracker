{% extends "base.html" %}
{% block title %}Encounter Setup - D&amp;D Initiative Tracker{% endblock %}
{% block content %}
<h2>Encounter Setup</h2>

<div class="grid">
    <!-- Left: Libraries -->
    <div>
        <h3>Creature Libraries</h3>

        <!-- Upload PC -->
        <details open>
            <summary>Upload PC (Markdown)</summary>
            <form hx-post="/creatures/upload-pc"
                  hx-target="#library-lists"
                  hx-encoding="multipart/form-data"
                  hx-swap="innerHTML">
                <input type="file" name="file" accept=".md" required>
                <button type="submit">Upload</button>
            </form>
        </details>

        <!-- Upload Monster -->
        <details>
            <summary>Upload Monster (Markdown)</summary>
            <form hx-post="/creatures/upload-monster"
                  hx-target="#library-lists"
                  hx-encoding="multipart/form-data"
                  hx-swap="innerHTML">
                <input type="file" name="file" accept=".md" required>
                <button type="submit">Upload</button>
            </form>
        </details>

        <div id="library-lists">
            {% include "partials/library_lists.html" %}
        </div>
    </div>

    <!-- Right: Current Encounter -->
    <div>
        <h3>Current Encounter</h3>

        <!-- Add from libraries -->
        {% include "partials/add_creature_forms.html" %}

        <div id="encounter-creatures">
            {% include "partials/encounter_creatures.html" %}
        </div>
    </div>
</div>

{% endblock %}
